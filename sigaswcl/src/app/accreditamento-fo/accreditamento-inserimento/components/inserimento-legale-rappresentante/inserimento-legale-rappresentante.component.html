<div class="principal-div">
    <sigas-spinner *ngIf="!loaderLegaleRappresentante"></sigas-spinner>
    <div class="card card-primary center-default" *ngIf="loaderLegaleRappresentante">
        <div class="card-header text-white">
            <strong>Inserisci Accreditamento</strong> - LEGALE RAPPRESENTANTE
        </div>
        <sigas-alert *ngIf="showMessageError" [message]="messageError" [type]="'DANGER'"></sigas-alert>
        <sigas-alert *ngIf="showMessage" [message]="message" [type]="tipoMessaggio"></sigas-alert>
        <form #insLegaleRappresentante="ngForm" (ngSubmit)="onSubmit()">
            <div class="panel-body">
                <!-- Cognome -->
                <div class="form-group row col-lg-12">
                    <div class="col-lg-12">
                        <div class="col-lg-2"></div>
                        <label for="cognome" class="col-lg-2 col-form-label">Cognome:</label>
                        <div class="col-lg-5">
                            <input type="text" id="cognome" placeholder="Cognome" maxlength="100" [(ngModel)]="rappresentanteModel.cognome" name="cognome"
                                class="form-control" #cognome="ngModel" required>
                            <div *ngIf="cognome.invalid && (cognome.dirty || cognome.touched)" class="alert alert-danger">
                                <div *ngIf="cognome.errors.required ">
                                    Il Cognome è richiesto.
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3"></div>
                    </div>
                </div>
                <!-- Fine Cognome -->
                <!-- Nome -->
                <div class="form-group row col-lg-12">
                    <div class="col-lg-12">
                        <div class="col-lg-2"></div>
                        <label for="nome" class="col-lg-2 col-form-label">Nome:</label>
                        <div class="col-lg-5">
                            <input type="text" id="nome" placeholder="Nome" maxlength="50" [(ngModel)]="rappresentanteModel.nome" name="nome" class="form-control"
                                #nome="ngModel" required>
                            <div *ngIf="nome.invalid && (nome.dirty || nome.touched)" class="alert alert-danger">
                                <div *ngIf="nome.errors.required ">
                                    Il Nome è richiesto.
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3"></div>
                    </div>
                </div>
                <!-- Fine Nome -->
                <!-- Codice Fiscale -->
                <div class="form-group row col-lg-12">
                    <div class="col-lg-12">
                        <div class="col-lg-2"></div>
                        <label for="codiceFiscale" class="col-lg-2 col-form-label">Codice Fiscale:</label>
                        <div class="col-lg-5">
                            <input type="text" id="codiceFiscale" placeholder="Codice Fiscale" [(ngModel)]="rappresentanteModel.codiceFiscale" name="codiceFiscale"
                                class="form-control maiuscolo" #codiceFiscale="ngModel" pattern="^[a-zA-Z]{6}[0-9]{2}[a-zA-Z][0-9]{2}[a-zA-Z][0-9]{3}[a-zA-Z]$"
                                required>
                            <div *ngIf="codiceFiscale.invalid && (codiceFiscale.dirty || codiceFiscale.touched)" class="alert alert-danger">
                                <div *ngIf="codiceFiscale.errors.required ">
                                    Il Codice Fiscale è richiesto.
                                </div>
                                <div *ngIf="codiceFiscale.errors.pattern ">
                                    Formato non corretto.
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3"></div>
                    </div>
                </div>
                <!-- Fine codice Fiscale -->
                <!-- Telefono -->
                <div class="form-group row col-lg-12">
                    <div class="col-lg-12">
                        <div class="col-lg-2"></div>
                        <label for="telefono" class="col-lg-2 col-form-label">Telefono:</label>
                        <div class="col-lg-5">
                            <input type="text" id="telefono" placeholder="Telefono" maxlength="25" [(ngModel)]="rappresentanteModel.telefono" name="telefono"
                                class="form-control" #telefono="ngModel" maxlength="25" pattern="^[0-9\-\+\s\(\)]*$">
                            <div *ngIf="telefono.invalid && (telefono.dirty || telefono.touched)" class="alert alert-danger">                                
                                <div *ngIf="telefono.errors.pattern ">
                                    Formato telefono non corretto.
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3"></div>
                    </div>
                </div>
                <!-- Fine telefono -->
                <!-- Email -->
                <div class="form-group row col-lg-12">
                    <div class="col-lg-12">
                        <div class="col-lg-2"></div>
                        <label for="email" class="col-lg-2 col-form-label">Email:</label>
                        <div class="col-lg-5">
                            <input type="text" id="email" placeholder="Email" maxlength="150" [(ngModel)]="rappresentanteModel.email" name="email" class="form-control minuscolo"
                                pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$" #email="ngModel" >
                            <div *ngIf="email.invalid && email.touched" class="alert alert-danger">                               
                                <div *ngIf="email.errors.pattern">
                                    formato email: exemple@exemple.it
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3"></div>
                    </div>
                </div>
                <!-- Fine Email -->
                <!-- DATA DI NASCITA -->
               <!-- <div class="form-group row col-lg-12">
                    <div class="col-lg-12">
                        <div class="col-lg-2"></div>
                        <label for="datiDiNascita" class="col-lg-6 col-form-label">DATI DI NASCITA</label>
                    </div>
                </div> -->
                <!-- fine DATA DI NASCITA -->
                <!-- data -->
               <!--  <div class="form-group row col-lg-12">
                    <div class="col-lg-12">
                        <div class="col-lg-2"></div>
                        <label for="data" class="col-lg-2 col-form-label">Data:</label>
                        <div class="col-lg-5">
                            <div class='input-group date' id='datetimepicker1'>
                                <input type='text' id="data" class="form-control col-lg-6 col-form-label" placeholder="Data Nascita" #data="ngModel" name="dataDiNascita"
                                    required #datePicker [ngModel]="rappresentanteModel.dataDiNascita" (blur)="rappresentanteModel.dataDiNascita = datePicker.value"
                                />
                                <span class="input-group-addon">
                                    <span class="glyphicon glyphicon-calendar"></span>
                                </span>
                            </div>
                            <div *ngIf="data.invalid && (data.dirty || data.touched)" class="alert alert-danger">
                                <div *ngIf="data.errors.required ">
                                    La Data è richiesta.
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3"></div>
                    </div>
                </div>-->
                <!-- Fine Data -->
                <!-- Provincia -->
                <!--
                <div class="form-group row col-lg-12">
                    <div class="col-lg-12">
                        <div class="col-lg-2"></div>
                        <label for="provincia" class="col-lg-2 col-form-label">Provincia:</label>
                        <div class="col-lg-5">
                            <sigas-spinner-form [diameter]="30" *ngIf="!loaderProvince;  else elseProvinceCaricate"></sigas-spinner-form>
                            <ng-template #elseProvinceCaricate>
                                <select class="form-control" id="provincia" [(ngModel)]="rappresentanteModel.idProvincia " name="provincia" [required]="rappresentanteModel.idStatoEstero==null || rappresentanteModel.idStatoEstero == ''"
                                    (change)="loadComuni(rappresentanteModel.idProvincia)">
                                    <option *ngFor="let prov of provinceModel" [value]="prov.id">{{prov.denominazione}}</option>
                                </select>
                            </ng-template>
                        </div>
                        <div class="col-lg-3"></div>
                    </div>
                </div>
                -->
                <!-- fine Provincia -->
                <!-- Comune -->
                <!--
                <div class="form-group row col-lg-12">
                    <div class="col-lg-12">
                        <div class="col-lg-2"></div>
                        <label for="comune" class="col-lg-2 col-form-label">Comune:</label>
                        <div class="col-lg-5">
                            <sigas-spinner-form [diameter]="30" *ngIf="!loaderComuni;  else elseComuniCaricati"></sigas-spinner-form>
                            <ng-template #elseComuniCaricati>
                                <select class="form-control" id="comune" [(ngModel)]="rappresentanteModel.idComune" name="comune" [required]="rappresentanteModel.idStatoEstero==null || rappresentanteModel.idStatoEstero == ''"
                                    [disabled]="rappresentanteModel.idProvincia==-1">
                                    <option *ngFor="let com of comuniModel" [value]="com.id">{{com.denominazione}}</option>
                                </select>
                            </ng-template>
                        </div>
                        <div class="col-lg-3"></div>
                    </div>
                </div>
                -->
                <!-- fine comune -->
                <!-- Stato estero -->
                <!--
                <div class="form-group row col-lg-12">
                    <div class="col-lg-12">
                        <div class="col-lg-2"></div>
                        <label for="statoEstero" class="col-lg-2 col-form-label">Stato Estero:</label>
                        <div class="col-lg-5">
                            <sigas-spinner-form [diameter]="30" *ngIf="!loaderStatiEsteri;  else elseStatiEsteriCaricati"></sigas-spinner-form>
                            <ng-template #elseStatiEsteriCaricati>
                                <select class="form-control" id="statoEstero" [(ngModel)]="rappresentanteModel.idStatoEstero" name="statoEstero" [required]="(rappresentanteModel.idProvincia==null || rappresentanteModel.idProvincia == '' || rappresentanteModel.idProvincia == -1) && (rappresentanteModel.idComune==null || rappresentanteModel.idComune == '')"
                                    [disabled]="rappresentanteModel.idProvincia!=-1">
                                    <option *ngFor="let statEst of statiEsteriModel" [value]="statEst.id">{{statEst.denominazione}}</option>
                                </select>
                            </ng-template>
                        </div>
                        <div class="col-lg-3"></div>
                    </div>
                </div>
                -->
                <!-- fine Stato estero -->
               
                <!--pulsanti-->
                <div class="bs-example" data-example-id="single-button-dropdown">
                    <div class="form-group row col-lg-12">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center">
                            <div class="btn-group">
                                <a class="btn btn-default margin-icon btn-standard" (click)="goBack()" role="button">
                                    <i class="fa fa-angle-left glyphicon glyphicon-chevron-left"></i>
                                    indietro</a>
                            </div>
                            <div class="btn-group">
                                <button type="button" (click)="cancella()" class="btn btn-primary margin-icon btn-standard">
                                    <i class="fa fa-angle-left glyphicon glyphicon-remove"></i> Cancella</button>
                            </div>
                            <div class="btn-group">
                                <button type="submit" [disabled]="!insLegaleRappresentante.form.valid" class="btn btn-primary margin-icon btn-standard">
                                    <i class="fa fa-angle-right glyphicon glyphicon-ok"></i> Conferma</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!--pulsanti-->
            </div>
        </form>
    </div>
</div>